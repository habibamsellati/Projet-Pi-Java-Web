{# templates/produit/_form.html.twig #}

<div class="card shadow-lg border-0 rounded-4 overflow-hidden">
    <div class="card-header text-white text-center py-4" style="background: linear-gradient(135deg, #c46210 0%, #8b4513 100%);">
        <h2 class="mb-0 fw-bold">{{ button_label|default('Enregistrer') == 'Update' ? 'Modifier le produit' : 'Ajouter un nouveau produit' }}</h2>
        <p class="mb-0 mt-2 opacity-75">
            {{ button_label|default('Enregistrer') == 'Update' ? 'Mettre à jour les informations' : 'Créez une nouvelle fiche produit' }}
        </p>
    </div>

    <div class="card-body p-4 p-md-5">
        {{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}

        <div class="row g-4">
            <!-- Informations Générales -->
            <div class="col-12">
                <h5 class="text-secondary border-bottom pb-2 mb-3"><i class="fas fa-info-circle me-2"></i>Informations Générales</h5>
            </div>

            <div class="col-md-6">
                <div class="form-floating mb-3">
                    {{ form_widget(form.nomproduit, {'attr': {'class': 'form-control', 'placeholder': 'Nom du produit'}}) }}
                    {{ form_label(form.nomproduit, 'Nom du produit') }}
                    {{ form_errors(form.nomproduit) }}
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-floating mb-3">
                    {{ form_widget(form.typemateriau, {'attr': {'class': 'form-control', 'placeholder': 'Type de matériau'}}) }}
                    {{ form_label(form.typemateriau, 'Type de matériau') }}
                    {{ form_errors(form.typemateriau) }}
                </div>
            </div>

            <div class="col-md-6">
                 <div class="form-floating mb-3">
                    {{ form_widget(form.etat, {'attr': {'class': 'form-control', 'placeholder': 'État'}}) }}
                    {{ form_label(form.etat, 'État') }}
                    {{ form_errors(form.etat) }}
                </div>
            </div>

            <div class="col-md-6">
                 <div class="form-floating mb-3">
                    {{ form_widget(form.quantite, {'attr': {'class': 'form-control', 'placeholder': 'Quantité'}}) }}
                    {{ form_label(form.quantite, 'Quantité disponible') }}
                    {{ form_errors(form.quantite) }}
                </div>
            </div>

            <!-- Détails et Impact -->
            <div class="col-12 mt-4">
                <h5 class="text-secondary border-bottom pb-2 mb-3"><i class="fas fa-leaf me-2"></i>Détails & Impact</h5>
            </div>

            <div class="col-md-4">
                <div class="form-floating mb-3">
                    {{ form_widget(form.origine, {'attr': {'class': 'form-control', 'placeholder': 'Origine'}}) }}
                    {{ form_label(form.origine, 'Origine') }}
                    {{ form_errors(form.origine) }}
                </div>
            </div>

            <div class="col-md-4">
                <div class="form-floating mb-3">
                    {{ form_widget(form.impactecologique, {'attr': {'class': 'form-control', 'placeholder': 'Impact écologique'}}) }}
                    {{ form_label(form.impactecologique, 'Impact écologique') }}
                    {{ form_errors(form.impactecologique) }}
                </div>
            </div>

             <div class="col-md-4">
                <div class="form-floating mb-3">
                    {{ form_widget(form.dateajout, {'attr': {'class': 'form-control', 'placeholder': 'Date d\'ajout'}}) }}
                    {{ form_label(form.dateajout, 'Date d\'ajout') }}
                    {{ form_errors(form.dateajout) }}
                </div>
            </div>

            <!-- Description -->
            <div class="col-12 mt-2">
                <div class="form-floating">
                    {{ form_widget(form.description, {'attr': {'class': 'form-control', 'style': 'height: 150px', 'placeholder': 'Description'}}) }}
                    {{ form_label(form.description, 'Description détaillée') }}
                    {{ form_errors(form.description) }}
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-between align-items-center mt-5 pt-3 border-top">
            <a href="{{ path('app_produit_index') }}" class="btn btn-outline-secondary px-4 py-2 rounded-pill">
                <i class="fas fa-arrow-left me-2"></i> Retour
            </a>

            <button type="submit" class="btn btn-primary px-5 py-3 rounded-pill fw-bold shadow-sm" style="background: linear-gradient(135deg, #c46210 0%, #a04e0b 100%); border: none;">
                <i class="fas fa-save me-2"></i> {{ button_label|default('Enregistrer') }}
            </button>
        </div>

        {{ form_end(form) }}
    </div>
</div>