{% extends 'base.html.front.twig' %}

{% block title %}AfkArt Pro | Developer Portal{% endblock %}

{% block body %}
<div style="background: #020617; min-height: 100vh; padding-top: 120px; padding-bottom: 80px; color: #f1f5f9; font-family: 'Outfit', sans-serif;">
    <div class="container">
        
        {# Sidebar Navigation (Desktop) #}
        <div style="display: grid; grid-template-columns: 300px 1fr; gap: 60px;">
            
            <aside style="position: sticky; top: 120px; height: fit-content;">
                <div style="background: #0f172a; border-radius: 20px; padding: 25px; border: 1px solid #1e293b;">
                    <h3 style="font-size: 0.8rem; color: #64748b; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 20px;">Navigation API</h3>
                    <nav style="display: flex; flex-direction: column; gap: 12px;">
                        <a href="#auth" style="color: #cbd5e1; text-decoration: none; font-size: 0.95rem; display: flex; align-items: center; gap: 10px;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                            Authentification
                        </a>
                        <a href="#endpoints" style="color: #cbd5e1; text-decoration: none; font-size: 0.95rem; display: flex; align-items: center; gap: 10px;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
                            Endpoints v1
                        </a>
                        <a href="#cognitive" style="color: #cbd5e1; text-decoration: none; font-size: 0.95rem; display: flex; align-items: center; gap: 10px;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#C4704B" stroke-width="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path></svg>
                            API Cognitive (AI)
                        </a>
                    </nav>

                    <div style="margin-top: 40px; border-top: 1px solid #1e293b; pt-30px;">
                        <div style="padding-top: 25px;">
                            <div style="font-size: 0.75rem; color: #64748b; font-weight: 700; margin-bottom: 10px;">Version</div>
                            <span style="background: #1e293b; color: #3b82f6; padding: 4px 10px; border-radius: 20px; font-size: 0.75rem; font-weight: 800;">v1.2.0 stable</span>
                        </div>
                    </div>
                </div>
            </aside>

            <main>
                {# Hero #}
                <div style="margin-bottom: 60px;">
                    <h1 style="font-family: 'Cormorant Garamond', serif; font-size: 4rem; color: #fff; margin-bottom: 20px;">Portail <span style="color: #C4704B;">Développeur</span></h1>
                    <p style="color: #94a3b8; font-size: 1.25rem; line-height: 1.6; max-width: 800px;">
                        Bienvenue sur la plateforme API d'AfkArt. Intégrez nos analyses prédictives et notre gestion d'événements dans vos applications tierces en quelques minutes.
                    </p>
                </div>

                {# API Key Section #}
                <section id="auth" style="background: #0f172a; border-radius: 30px; padding: 40px; border: 1px solid #1e293b; margin-bottom: 50px; position: relative; overflow: hidden;">
                    <div style="position: absolute; right: -20px; top: -20px; width: 150px; height: 150px; background: #3b82f6; filter: blur(100px); opacity: 0.1;"></div>
                    
                    <h2 style="font-size: 2rem; color: #fff; margin-bottom: 25px; display: flex; align-items: center; gap: 15px;">
                        Votre Clé API Personnel
                    </h2>
                    
                    {% if app.user and app.user.apiKey %}
                        <div style="background: #020617; padding: 20px; border-radius: 15px; border: 1px dashed #334155; margin-bottom: 25px; display: flex; justify-content: space-between; align-items: center;">
                            <code style="color: #3b82f6; font-size: 1.1rem; letter-spacing: 1px;">{{ app.user.apiKey }}</code>
                            <button onclick="navigator.clipboard.writeText('{{ app.user.apiKey }}')" style="background: transparent; border: 1px solid #334155; color: #94a3b8; padding: 5px 12px; border-radius: 8px; font-size: 0.8rem; cursor: pointer; transition: all 0.2s;">Copier</button>
                        </div>
                        <p style="color: #94a3b8; font-size: 0.9rem;">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2" style="margin-right: 5px;"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                            Ne partagez jamais cette clé. Elle donne un accès complet à vos données d'artisan.
                        </p>
                    {% endif %}

                    <form action="{{ path('app_artisan_generate_api_key') }}" method="POST" style="margin-top: 25px;">
                        <button type="submit" style="background: #C4704B; color: white; border: none; padding: 12px 25px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
                            {% if app.user and app.user.apiKey %}Régénérer ma clé API{% else %}Générer ma première clé API{% endif %}
                        </button>
                    </form>
                </section>

                {# Endpoints v1 #}
                <section id="endpoints">
                    <h2 style="font-size: 2rem; color: #fff; margin-bottom: 30px;">Référence API v1</h2>

                    {# Stats Endpoint #}
                    <div style="background: #0f172a; border-radius: 20px; border: 1px solid #1e293b; margin-bottom: 30px; overflow: hidden;">
                        <div style="padding: 20px; background: rgba(16, 185, 129, 0.05); border-bottom: 1px solid #1e293b; display: flex; align-items: center; justify-content: space-between;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <span style="background: #10b981; color: white; padding: 4px 10px; border-radius: 6px; font-weight: 800; font-size: 0.75rem;">GET</span>
                                <code style="color: #fff; font-weight: 600;">/api/v1/artisan/stats</code>
                            </div>
                            <span style="color: #64748b; font-size: 0.8rem;">Statistiques Globales</span>
                        </div>
                        <div style="padding: 30px;">
                            <p style="color: #94a3b8; margin-bottom: 20px;">Récupère une vue d'ensemble de vos performances : revenus totaux, nombre de réservations et répartition par type d'art.</p>
                            <div style="background: #020617; border-radius: 12px; padding: 20px; position: relative;">
                                <div style="position: absolute; right: 15px; top: 15px; color: #334155; font-size: 0.7rem; font-weight: 700; text-transform: uppercase;">Example Request</div>
                                <pre style="color: #7dd3fc; font-size: 0.85rem; margin: 0;">curl -H "X-API-KEY: your_api_key_here" \
  {{ url('api_artisan_stats') }}</pre>
                            </div>
                        </div>
                    </div>

                    {# Cognitive AI Endpoint #}
                    <div id="cognitive" style="background: #0f172a; border-radius: 20px; border: 1px solid #C4704B; margin-bottom: 30px; overflow: hidden; position: relative;">
                         <div style="position: absolute; top:0; right: 0; background: #C4704B; color: white; font-size: 0.6rem; font-weight: 800; padding: 4px 12px; border-bottom-left-radius: 12px; text-transform: uppercase;">Premium Cognitive</div>
                        <div style="padding: 20px; background: rgba(196, 112, 75, 0.05); border-bottom: 1px solid #1e293b; display: flex; align-items: center; gap: 15px;">
                            <span style="background: #C4704B; color: white; padding: 4px 10px; border-radius: 6px; font-weight: 800; font-size: 0.75rem;">GET</span>
                            <code style="color: #fff; font-weight: 600;">/api/v1/artisan/events/{id}/ai-stats</code>
                        </div>
                        <div style="padding: 30px;">
                            <p style="color: #94a3b8; margin-bottom: 20px;">L'endpoint le plus puissant. Renvoie l'analyse cognitive complète d'un événement au format JSON (Success Score, Élasticité, Checklist stratégique).</p>
                             <div style="background: #020617; border-radius: 12px; padding: 20px;">
                                <pre style="color: #fca5a5; font-size: 0.8rem; margin: 0;">{
  "prediction": 85,
  "success_score": 92,
  "marketing_tags": ["Exposition Premium", "Offre Accessible"],
  "strategic_checklist": [ ... ]
}</pre>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>
</div>

<style>
    html { scroll-behavior: smooth; }
    h2 { font-family: 'Cormorant Garamond', serif; }
</style>
{% endblock %}
