{% extends 'base.html.front.twig' %}

{% block title %}Modifier proposition | AfkArt{% endblock %}

{% block body %}
<section style="max-width: 700px; margin: 0 auto; padding: 2rem 1.5rem;">
    <h1 style="font-family: 'Cormorant Garamond', serif; font-size: 2rem; color: #3d2817; margin-bottom: 1.5rem;">Modifier la proposition</h1>
    <div style="background: white; padding: 1.5rem 2rem; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
        {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
        {% set widget_attr = {'style': 'width:100%;padding:0.6rem 0.75rem;border:1px solid #ddd;border-radius:8px;font-size:1rem;'} %}
        <div style="margin-bottom: 1.25rem;">
            {{ form_label(form.titre) }}
            {{ form_widget(form.titre, {'attr': widget_attr}) }}
            {{ form_errors(form.titre) }}
        </div>
        <div style="margin-bottom: 1.25rem;">
            {{ form_label(form.description) }}
            {{ form_widget(form.description, {'attr': {'style': 'width:100%;padding:0.6rem 0.75rem;border:1px solid #ddd;border-radius:8px;font-size:1rem;min-height:100px;resize:vertical;'}}) }}
            {{ form_errors(form.description) }}
        </div>
        <div style="margin-bottom: 1.25rem;">
            {{ form_label(form.date) }}
            {{ form_widget(form.date, {'attr': widget_attr}) }}
            {{ form_errors(form.date) }}
        </div>
        <div style="margin-bottom: 1.5rem;">
            {{ form_label(form.produit) }}
            {{ form_widget(form.produit, {'attr': widget_attr}) }}
            {{ form_errors(form.produit) }}
        </div>
        <div style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
            <button type="submit" style="background: #8b5e4a; color: white; border: none; padding: 0.6rem 1.5rem; border-radius: 50px; font-weight: 600; cursor: pointer;">Mettre Ã  jour</button>
            <a href="{{ path('app_proposition_index') }}" style="color: #5a5450; text-decoration: none;">Annuler</a>
            <form method="post" action="{{ path('app_proposition_delete', {'id': proposition.id}) }}" style="margin-left: auto;" onsubmit="return confirm('Supprimer cette proposition ?');">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ proposition.id) }}">
                <button type="submit" style="background: none; border: none; color: #b91c1c; cursor: pointer; text-decoration: underline;">Supprimer</button>
            </form>
        </div>
        {{ form_end(form) }}
    </div>
</section>
<style>
    .form-error-message { color: #b91c1c; font-size: 0.875rem; margin-top: 0.25rem; }
    label { display: block; font-weight: 600; color: #374151; margin-bottom: 0.35rem; font-size: 0.9rem; }
</style>
{% endblock %}
